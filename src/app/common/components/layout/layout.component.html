<app-loader></app-loader>

<div class="d-flex flex-column vh-100">
  <!-- Header -->
  <header class="bg-primary text-white p-3 d-flex justify-content-between align-items-center">
    <h5 class="mb-0">CampusOrbit</h5>
    <h6>{{loggedInUser()?.fullName}}</h6>
    <h6>{{loggedInUser()?.enrollmentNumber}}</h6>
    <button class="btn btn-light btn-sm" (click)="this.userService.logout();">Logout</button>
  </header>

  <!-- Body -->
  <div class="d-flex flex-grow-1">
    <!-- Sidebar -->
    <nav class="sidebar bg-light border-end p-2"
         (mouseenter)="toggleSidebar(true)"
         (mouseleave)="toggleSidebar(false)"
         [class.sidebar-expanded]="sidebarExpanded()"
         [class.sidebar-collapsed]="!sidebarExpanded()">
      <ul class="nav flex-column">
        <li class="nav-item mb-2">
          <a class="nav-link" routerLink="/dashboard">
            <i class="bi bi-speedometer2"></i>
            <span class="sidebar-text">Dashboard</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link" routerLink="/users">
            <i class="bi bi-people"></i>
            <span class="sidebar-text">Users</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a class="nav-link" routerLink="/settings">
            <i class="bi bi-gear"></i>
            <span class="sidebar-text">Settings</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main content -->
    <main class="flex-grow-1 p-4">
      <router-outlet></router-outlet>
    </main>
  </div>

  <!-- Footer -->
  <footer class="bg-secondary text-white text-center p-2">
    &copy; 2025 Dhyey Sutariya
  </footer>
</div>
